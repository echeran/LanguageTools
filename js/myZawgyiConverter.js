// Converters from Non-Unicode Burmese encodings to Unicode and Zawgyi.

// ww_burn.ttf --> Unicode
private_use_map_combined = {
  '\u0020': ['\u0020'],
  '\u0021': ['\u106b'],
  '\u0022': ['\u1013'],
  '\u0023': ['\u103b\u103e'],
  '\u0024': ['\u108a'],  // ?
  '\u0025': ['\u100f'],
  '\u0026': ['\u101b'],
  '\u0027': ['\u1012'],
  '\u0028': ['('],
  '\u0029': [')'],
  '\u002a': ['\u1002'],
  '\u002b': ['\u107f'],
  '\u002c': ['\u101a'],
  '\u002d': ['\u2014'],  // long dash?
  '\u002e': ['\u104f'],
  '\u002f': ['\u104a'],

  '\u0030': ['\u1040'],
  '\u0031': ['\u1041'],
  '\u0032': ['\u1042'],
  '\u0033': ['\u1043'],
  '\u0034': ['\u1044'],
  '\u0035': ['\u1045'],
  '\u0036': ['\u1046'],
  '\u0037': ['\u1047'],
  '\u0038': ['\u1048'],
  '\u0039': ['\u1049'],
  '\u003a': ['\u105a'],
  '\u003b': ['\u1038'],
  '\u003c': ['\u1076'],
  '\u003d': ['\u107e'],
  '\u003e': ['\u1066'],
  '\u003f': ['\u104b'],

  '\u0040': ['\u1037'],
  '\u0041': ['\u1017'],
  '\u0042': ['\u107b'],
  '\u0043': ['\u1003'],
  '\u0044': ['\u102e'],
  '\u0045': ['\u1014'],
  '\u0046': ['\u1064'],
  '\u0047': ['\u103c'],  //?
  '\u0048': ['\u1036'],
  '\u0049': ['\u104d'],
  '\u004a': ['\u1032'],
  '\u004b': ['\u1033'],
  '\u004c': ['\u1034'],
  '\u004d': ['\u1077'],
  '\u004e': ['\u1075'],
  '\u004f': ['\u1025'],  // ?

  '\u0050': ['\u1065'],
  '\u0051': ['\u1061'],
  '\u0052': ['\u107c'],
  '\u0053': ['\u103d'],
  '\u0054': ['\u1024'],
  '\u0055': ['\u1070'],
  '\u0056': ['\u1020'],  // ?
  '\u0057': ['\u1071'],
  '\u0058': ['\u100c'],
  '\u0059': ['\u104c'],
  '\u005a': ['\u1007'],
  '\u005b': ['\u101f'],
  '\u005c': ['\u1086'],
  '\u005d': ['='],
  '\u005e': ['\u1009'],
  '\u005f': ['\u1088'],

  '\u0060': ['\u1078'],
  '\u0061': ['\u1031'],
  '\u0062': ['\u1018'],
  '\u0063': ['\u1001'],
  '\u0064': ['\u102d'],
  '\u0065': ['\u1014'],
  '\u0066': ['\u1039'],
  '\u0067': ['\u102b'],
  '\u0068': ['\u1037'],
  '\u0069': ['\u1004'],
  '\u006a': ['\u103b'],
  '\u006b': ['\u102f'],
  '\u006c': ['\u1030'],
  '\u006d': ['\u102c'],
  '\u006e': ['\u100a'],
  '\u006f': ['\u101e'],

  '\u0070': ['\u1005'],
  '\u0071': ['\u1006'],
  '\u0072': ['\u1019'],
  '\u0073': ['\u103a'],
  '\u0074': ['\u1021'],
  '\u0075': ['\u1000'],
  '\u0076': ['\u101c'],
  '\u0077': ['\u1010'],
  '\u0078': ['\u1011'],
  '\u0079': ['\u1015'],
  '\u007a': ['\u1016'],
  '\u007b': ['\u1027'],
  '\u007c': ['\u103c\u107d'],
  '\u007d': ['\u1080'],
  '\u007e': ['\u1062'],
  '\u007f': ['\u0020'],

  // More to do but more unusual combinations
  '\u00a0': [' '],
  '\u00a1': ['['],
  '\u00a2': [']'],
  '\u00a3': ['\u00a3'],
  '\u00a4': ['$'],
  '\u00a5': ['\u00a5'],
  '\u00a6': ['Ks'],
  '\u00a7': ['/'],
  '\u00a8': ['\u0e3f'],
  '\u00a9': ['\u00a9'],
  '\u00aa': ['\u1089'],
  '\u00ae': ['\u00ae'],

  '\u00b1': ['\u101b'],
  '\u00b2': ['\u1037'],
  '\u00b3': ['\u1037'],
  '\u00b4': ['?', '?'],
  '\u00b5': ['%'],
  '\u00b6': ['\u101b'],
  '\u00b7': ['*'],
  '\u00b8': ['\u108a'],
  '\u00b9': ['\u1081'],
  '\u00ba': ['\u1082'],
  '\u00bb': ['\u00d7'],
  '\u00bc': ['\u1041/\u1043'],
  '\u00bd': ['\u1041/\u1042'],
  '\u00be': ['\u100f\u1039\u100d'],
  '\u00bf': ['\u100f\u1039\u100c'],

  '\u00c0': ['\u100f\u1039\u100f'],
  '\u00c6': ['\u1069'],
  '\u00c7': ['\u1068\u107dß'],
  '\u00c8': ['\u100d'],
  '\u00ca': ['\u100e'],
  '\u00cb': ['\u100b'],
  '\u00ce': ['\u1073'],

  '\u00e6': ['\u2026'],
  '\u00e7': ['\u2234'],
  '\u00e8': ['\u2235'],
  '\u00e9': ['\u103b\u103d\u103e'],
  '\u00ea': ['\u103e'],
  '\u00eb': ['\u103d'],
  '\u00ec': ['\u103d\u103e'],
  '\u00ed': ['\u103b\u103d'],
  '\u00ee': ['\u103d\u103d\u103e'],
//  '\u00ef': ['\u104'],
  '\u00f0': ['\u1081\u102f'],
  '\u00f1': ['\u1082\u1033'],
  '\u00f2': ['\u107f\u1033'],
  '\u00f3': ['\u1080\u1033'],
  '\u00f4': ['\u108c'],
  '\u00f5': ['\u108b'],
  '\u00f6': ['\u108c'],
  '\u00f7': ['\u00f7'],
  '\u00f8': ['\u108d'],

  '\u0153': ['\u1071'],
  '\u0154': ['\u107a'],

  '\u0192': ['\u1063'],
  '\u0193': ['\u1073'],
  '\u201e': ['???'],
  '\u2020': ['\u1085'],
  '\u2026': ['\u1068'],
  '\u2030': ['\u1079'],
  '\u2039': ['\u1037'],
  '\u2030': ['\u1037'],
   };

// ww_burn.ttf --> Zawgyi
private_use_map_to_zawgyi = {
  '\u0020': ['\u0020'],
  '\u0021': ['\u106b'],
  '\u0022': ['\u1013'],
  '\u0023': ['\u103b\u103e'],
  '\u0024': ['\u103a\u103d'],  // ?
  '\u0025': ['\u100f'],
  '\u0026': ['\u101b'],
  '\u0027': ['\u1012'],
  '\u0028': ['('],
  '\u0029': [')'],
  '\u002a': ['\u1002'],
  '\u002b': ['\u107f'],
  '\u002c': ['\u101a'],
  '\u002d': ['\u2014'],  // long dash?
  '\u002e': ['\u104f'],
  '\u002f': ['\u104a'],

  '\u0030': ['\u1040'],
  '\u0031': ['\u1041'],
  '\u0032': ['\u1042'],
  '\u0033': ['\u1043'],
  '\u0034': ['\u1044'],
  '\u0035': ['\u1045'],
  '\u0036': ['\u1046'],
  '\u0037': ['\u1047'],
  '\u0038': ['\u1048'],
  '\u0039': ['\u1049'],
  '\u003a': ['\u105a'],
  '\u003b': ['\u1038'],
  '\u003c': ['\u1076'],
  '\u003d': ['\u107c'],
  '\u003e': ['\u1066'],
  '\u003f': ['\u104b'],

  '\u0040': ['\u1037'],
  '\u0041': ['\u1017'],
  '\u0042': ['\u107b'],
  '\u0043': ['\u1003'],
  '\u0044': ['\u102e'],
  '\u0045': ['\u108f'],
  '\u0046': ['\u1064'],
  '\u0047': ['\u103c'],  //?
  '\u0048': ['\u1036'],
  '\u0049': ['\u104d'],
  '\u004a': ['\u1032'],
  '\u004b': ['\u1033'],
  '\u004c': ['\u1034'],
  '\u004d': ['\u1077'],
  '\u004e': ['\u1075'],
  '\u004f': ['\u1025'],

  '\u0050': ['\u1065'],
  '\u0051': ['\u1061'],
  '\u0052': ['\u107c'],
  '\u0053': ['\u103d'],
  '\u0054': ['\u1024'],
  '\u0055': ['\u1060'],
  '\u0056': ['\u1020'],
  '\u0057': ['\u1071'],
  '\u0058': ['\u100c'],
  '\u0059': ['\u104c'],
  '\u005a': ['\u1007'],
  '\u005b': ['\u101f'],
  '\u005c': ['\u1086'],
  '\u005d': ['='],
  '\u005e': ['\u1009'],
  '\u005f': ['\u1088'],

  '\u0060': ['\u1078'],
  '\u0061': ['\u1031'],
  '\u0062': ['\u1018'],
  '\u0063': ['\u1001'],
  '\u0064': ['\u102d'],
  '\u0065': ['\u1014'],
  '\u0066': ['\u1039'],
  '\u0067': ['\u102b'],
  '\u0068': ['\u1037'],
  '\u0069': ['\u1004'],
  '\u006a': ['\u103b'],
  '\u006b': ['\u102f'],
  '\u006c': ['\u1030'],
  '\u006d': ['\u102c'],
  '\u006e': ['\u100a'],
  '\u006f': ['\u101e'],

  '\u0070': ['\u1005'],
  '\u0071': ['\u1006'],
  '\u0072': ['\u1019'],
  '\u0073': ['\u103a'],
  '\u0074': ['\u1021'],
  '\u0075': ['\u1000'],
  '\u0076': ['\u101c'],
  '\u0077': ['\u1010'],
  '\u0078': ['\u1011'],
  '\u0079': ['\u1015'],
  '\u007a': ['\u1016'],
  '\u007b': ['\u1027'],
  '\u007c': ['\u103c\u107d'],
  '\u007d': ['\u1080'],
  '\u007e': ['\u1062'],
  '\u007f': ['\u0020'],

  // More to do but more unusual combinations
  '\u00a0': [' '],
  '\u00a1': ['\u1083'],
  '\u00a2': [']'],
  '\u00a3': ['\u00a3'],
  '\u00a4': ['$'],
  '\u00a5': ['\u00a5'],
  '\u00a6': ['Ks'],
  '\u00a7': ['/'],
  '\u00a8': ['\u0e3f'],
  '\u00a9': ['\u00a9'],
  '\u00aa': ['\u1089'],
  '\u00ae': ['\u00ae'],

  '\u00b1': ['\u101b'],
  '\u00b2': ['\u1037'],
  '\u00b3': ['\u1037'],
  '\u00b4': ['?', '?'],
  '\u00b5': ['%'],
  '\u00b6': ['\u101b'],
  '\u00b7': ['*'],
  '\u00b8': ['\u103d\u103c'],
  '\u00b9': ['\u1081'],
  '\u00ba': ['\u1082'],
  '\u00bb': ['\u00d7'],
  '\u00bc': ['\u1041/\u1043'],
  '\u00bd': ['\u1041/\u1042'],
  '\u00be': ['\u1091'],
  '\u00bf': ['\u100f\u1039\u100c'],

  '\u00c0': ['\u100f\u1039\u100f'],
  '\u00c1': ['\u1023'],
  '\u00c6': ['\u1069'],
  '\u00c7': ['\u1068\u107dß'],
  '\u00c8': ['\u100d'],
  '\u00ca': ['\u100e'],
  '\u00cb': ['\u100b'],
  '\u00ce': ['\u1073'],

  '\u00e6': ['\u2026'],
  '\u00e7': ['\u2234'],
  '\u00e8': ['\u2235'],
  '\u00e9': ['\u103b\u103d\u103e'],
  '\u00ea': ['\u103e'],
  '\u00eb': ['\u103d'],
  '\u00ec': ['\u103d\u103e'],
  '\u00ed': ['\u103b\u103d'],
  '\u00ee': ['\u103d\u103d\u103e'],
//  '\u00ef': ['???'],
  '\u00f0': ['\u1081\u1033'],
  '\u00f1': ['\u1082\u1033'],
  '\u00f2': ['\u107f\u1033'],
  '\u00f3': ['\u1080\u1033'],
  '\u00f4': ['\u108c'],
  '\u00f5': ['\u108b'],
  '\u00f6': ['\u108c'],
  '\u00f7': ['\u00f7'],
  '\u00f8': ['\u108d'],
  '\u00ff': ['\u101d'],

  '\u0152': ['\u1094'],
  '\u0153': ['\u1071'],
  '\u0154': ['\u107a'],

  '\u0192': ['\u1063'],
  '\u0193': ['\u1073'],
  '\u201e': ['???'],
  '\u2020': ['\u1085'],
  '\u2026': ['\u1068'],
  '\u2030': ['\u1079'],
  '\u2039': ['\u1037'],
  '\u2030': ['\u1037'],

   };

// TODO: Convert combinations, especially medials.break

function convertEncodingToUnicode(inbox, outbox, encodingIndex) {
  var inarea = document.getElementById(inbox);
  var outarea = document.getElementById(outbox);

  // First, replace all single characters with their Unicode equivalents.
  var intext = inarea.value;
  var outtext = "";
  var out;
  for (var index = 0; index < intext.length; index ++) {
    var c = intext[index];
    out = c;
    if (c in private_use_map_combined) {
      var result = private_use_map_to_zawgyi[c][encodingIndex];
      if (result) {
	out = result;
      }
    }
    outtext += out;
  }
  var newText = outtext;

  if (outarea) {
    outarea.innerHTML = outarea.value = newText;
  }
  return newText;
}
